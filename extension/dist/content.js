function n(){try{const e=Object.keys(localStorage);for(const s of e)if(s.includes("supabase")&&s.includes("auth")){const t=localStorage.getItem(s);if(t)try{const r=JSON.parse(t);if(r.access_token){chrome.runtime.sendMessage({type:"SYNC_AUTH",token:r.access_token,refreshToken:r.refresh_token,expiresAt:r.expires_at});return}}catch{}}chrome.runtime.sendMessage({type:"AUTH_CLEARED"})}catch(e){console.error("Auth sync error:",e)}}n();window.addEventListener("storage",e=>{var s,t;(s=e.key)!=null&&s.includes("supabase")&&((t=e.key)!=null&&t.includes("auth"))&&n()});setInterval(n,3e4);
